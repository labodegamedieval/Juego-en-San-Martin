<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>🎉 Has completado la aventura</title>
  <link rel="stylesheet" href="styles/style.css"/>
  <link rel="icon" type="image/jpeg" href="images/escudo-borrado.jpg"/>
  <style>
    body {
      background: url('images/bodega-cueva.jpeg') no-repeat center center fixed;
      background-size: cover;
      color: #f9f4e8;
    }
    .final-container {
      text-align: center;
      padding: 40px 20px;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 16px;
      max-width: 800px;
      margin: 60px auto;
    }
    .action-btn {
      background-color: #f0e6d2;
      border: none;
      padding: 14px 22px;
      font-size: 18px;
      border-radius: 10px;
      text-decoration: none;
      color: #4a2c2a;
    }
    #donateBtn {
      margin-top: 30px;
      background-color: #f7f1e1;
      color: #7c4d00;
      border: 2px solid #7c4d00;
      font-family: serif;
    }
    #donationModal {
      display: none;
      position: fixed;
      z-index: 9998;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.7);
    }
    #donationModalContent {
      background-color: #f7f1e1;
      margin: 10% auto;
      padding: 20px;
      border: 2px solid #7c4d00;
      border-radius: 12px;
      width: 90%;
      max-width: 600px;
      font-family: serif;
      color: #4a2c2a;
    }
    .closeModal {
      float: right;
      font-size: 1.4em;
      cursor: pointer;
      color: #7c4d00;
    }
  </style>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GE0YB9PL8Q"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-GE0YB9PL8Q');
  </script>
</head>
<body>
  <div class="final-container">
    <h1 id="titulo"></h1>
    <p id="mensaje-final"></p>
    <p id="texto-instruccion"></p>

    <!-- Botón de donación -->
    <div class="action-btn" onclick="document.getElementById('donationModal').style.display='block'" id="donateBtn">💰 ¿Quieres apoyar?</div>

    <!-- Botones -->
    <div class="button-group">
      <a class="action-btn" href="https://www.labodegamedieval.es/reservar" target="_blank" id="btn-reservar"></a>
      <a class="action-btn" href="explorar.html" id="btn-explorar"></a>
    </div>

    <!-- Modal de donación -->
    <div id="donationModal" onclick="this.style.display='none'">
      <div id="donationModalContent" onclick="event.stopPropagation();">
        <span class="closeModal" onclick="document.getElementById('donationModal').style.display='none'">&times;</span>
        <h2 id="don-titulo"></h2>
        <p id="don-texto"></p>
        <hr>
        <div style="text-align:center;">
          <p><strong>💳 PayPal</strong></p>
          <form action="https://www.paypal.com/donate" method="post" target="_blank">
            <input type="hidden" name="business" value="TU_CORREO_PAYPAL@ejemplo.com" />
            <input type="hidden" name="item_name" value="Juego turístico de San Martín del Castañar" />
            <input type="hidden" name="currency_code" value="EUR" />
            <input type="submit" value="Donar 1 € con PayPal" />
          </form>
          <hr>
          <p><strong>📲 Bizum</strong></p>
          <p>En tu app bancaria, envía 1 € al código: <strong>03456</strong></p>
          <hr>
          <p><strong>⚡ Lightning</strong></p>
          <p>Envía a: <code>celestialmelody936348@getalby.com</code></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Script de traducción por idioma -->
  <script>
    const idioma = localStorage.getItem("idioma") || "es";
    const textos = {
      es: {
        titulo: "🎉 ¡Felicidades, valiente viajero!",
        mensaje: "Has reunido todas las piezas del mensaje oculto de Gonzalo.",
        instruccion: "¿Sabes guardar un secreto? Reserva tu experiencia...",
        reservar: "🍷 Reserva tu Experiencia en la Bodega Medieval ahora!",
        explorar: "🗺️ Volver a Explorar",
        donTitulo: "🎁 ¿Te ha gustado la aventura?",
        donTexto: "Puedes hacer una donación simbólica de 1 € para apoyar este proyecto local."
      },
      en: {
        titulo: "🎉 Congratulations, brave traveler!",
        mensaje: "You've gathered all the pieces of Gonzalo’s hidden message.",
        instruccion: "Can you keep a secret? Book your experience now...",
        reservar: "🍷 Book your Medieval Winery Experience now!",
        explorar: "🗺️ Return to Explore",
        donTitulo: "🎁 Enjoyed the adventure?",
        donTexto: "You can support this local project with a symbolic €1 donation."
      },
      fr: {
        titulo: "🎉 Félicitations, valeureux voyageur !",
        mensaje: "Tu as rassemblé tous les fragments du message caché de Gonzalo.",
        instruccion: "Sauras-tu garder un secret ? Réserve ton expérience...",
        reservar: "🍷 Réserve ton Expérience à la Bodega Médiévale !",
        explorar: "🗺️ Revenir à l’exploration",
        donTitulo: "🎁 Tu as aimé l’aventure ?",
        donTexto: "Soutiens ce projet local avec un don symbolique de 1 €."
      },
      de: {
        titulo: "🎉 Glückwunsch, tapferer Reisender!",
        mensaje: "Du hast alle Teile von Gonzalos geheimer Botschaft gesammelt.",
        instruccion: "Kannst du ein Geheimnis bewahren? Buche dein Erlebnis...",
        reservar: "🍷 Buche jetzt dein Erlebnis im mittelalterlichen Weinkeller!",
        explorar: "🗺️ Zurück zur Erkundung",
        donTitulo: "🎁 Hat dir das Abenteuer gefallen?",
        donTexto: "Du kannst dieses lokale Projekt mit 1 € symbolisch unterstützen."
      }
    };
    const t = textos[idioma];
    document.getElementById("titulo").textContent = t.titulo;
    document.getElementById("mensaje-final").textContent = t.mensaje;
    document.getElementById("texto-instruccion").textContent = t.instruccion;
    document.getElementById("btn-reservar").textContent = t.reservar;
    document.getElementById("btn-explorar").textContent = t.explorar;
    document.getElementById("don-titulo").textContent = t.donTitulo;
    document.getElementById("don-texto").textContent = t.donTexto;
  </script>
</body>
</html>
